# 📍[2. 좌표계 매핑]
## 1. 문제 정의
---
- 카메라 이미지에서 검출된 콜로니 위치는 픽셀 좌표 (u, v)로 표현된다.  
- 로봇이 실제로 이동하려면 이를 로봇 베이스 좌표계의 (X, Y, Z)로 변환해야 한다.

</br>

## 2. 기본 전제
---
- 카메라는 고정되어 있고, 플레이트는 평면이다.
- 콜로니는 모두 동일한 높이(Z)에 존재한다.
- 따라서 **XY 위치 변환이 핵심**이며, Z는 상수로 처리 가능하다.

</br>

## 3. 좌표계 정의
---
- 이미지 좌표계 (u, v): 픽셀 좌표
- 로봇 베이스 좌표계 (X, Y, Z): 로봇 작업 좌표
- 목표: (u, v) → (X, Y, Z)

</br>

## 4. 변환 전략 (Homography 기반)
---
1. 플레이트 위에서 **기준점 4개 이상**을 선택  
   (예: A1, A12, H1, H12 웰 중심)
2. 각 기준점에 대해:
   - 이미지 좌표 (u, v)
   - 로봇 좌표 (X, Y) 측정
3. 이 대응 관계로 **Homography 행렬 H**를 계산
4. 임의의 콜로니 픽셀 좌표 (u, v)에 대해:
   - (X, Y, 1)ᵀ ∝ H · (u, v, 1)ᵀ
5. Z는 플레이트 높이로 고정하여 사용

</br>

## 5. 로봇 동작 시 사용
---
- (X, Y, Z_safe)로 접근
- (X, Y, Z_work)로 하강하여 작업 수행
